<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_38) on Sun Aug 25 09:59:19 UTC 2013 -->
<TITLE>
UnsavedRecords
</TITLE>

<META NAME="date" CONTENT="2013-08-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UnsavedRecords";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/smartgwt/client/docs/TreeIcons.html" title="interface in com.smartgwt.client.docs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/smartgwt/client/docs/Upload.html" title="interface in com.smartgwt.client.docs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/smartgwt/client/docs/UnsavedRecords.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UnsavedRecords.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;METHOD</FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;METHOD</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.smartgwt.client.docs</FONT>
<BR>
Interface UnsavedRecords</H2>
<HR>
<DL>
<DT><PRE>public interface <B>UnsavedRecords</B></DL>
</PRE>

<P>
<h3>Handling Unsaved Records</h3>
 APIs such as <A HREF="../../../../com/smartgwt/client/widgets/grid/ListGrid.html#startEditingNew()"><CODE>startEditingNew()</CODE></A> or  <A HREF="../../../../com/smartgwt/client/widgets/grid/ListGrid.html#getListEndEditAction()"><CODE>listEndEditAction:"next"</CODE></A> allow editing records that have not been saved to the server.  These
 unsaved records are special in several ways: <ul>  <li> there is no actual Record object in the
 dataset for them: <code>getRecord(rowNum)</code> will return null, instead,
 <code>getEditValues(rowNum)</code> allows access to field values for the unsaved record  <li>
 rows for editing these records always appear at the end of the grid and do not sort with other
 rows <li> because unsaved records lack an actual Record object and lack a <A HREF="../../../../com/smartgwt/client/data/DataSourceField.html#getPrimaryKey()"><CODE>primaryKey</CODE></A> value, they have limited
 functionality: they cannot be selected, and do not support <A HREF="../../../../com/smartgwt/client/widgets/grid/ListGrid.html#getShowRecordComponents()"><CODE>showRecordComponents</CODE></A> and
 certain other features. </ul> <P> If you need to work with unsaved records and have all
 ListGrid features apply to them, this is usually a sign that you should re-think your UI for
 adding new records.  Consider the following approaches - which works best will depend on the
 application: <ul> <li> actually save a new record to persistent storage, then start editing it.
 This has the advantage that the user will never lose data by exiting the application with
 unsaved records, which can be important if there is a lot of data entry before the record is
 ready to save (for example, a new issue report in an issue-tracking applications, or a new blog
 entry). This is also a good approach if the user may want to get a unique ID for the new record
 right away (again useful for a new issue report or blog entry). <P> If values for several
 fields are required before the record should be visible on other screens or to other users, you
 can add a field to the record to flag it as incomplete so that it is not shown on other
 screens.  Alternatively, require certain fields to be entered via an external form or dialog
 before the record is added to the grid.   <P> Saving a new record and editing it can be done
 via <A HREF="../../../../com/smartgwt/client/data/DataSource.html#addData(com.smartgwt.client.data.Record)"><CODE>DataSource.addData</CODE></A> followed by a call
 to <A HREF="../../../../com/smartgwt/client/widgets/grid/ListGrid.html#startEditing()"><CODE>ListGrid.startEditing</CODE></A> once
 the record has been saved. <li> edit new records via a separate <CODE>DynamicForm</CODE> instead, possibly in a modal <A HREF="../../../../com/smartgwt/client/widgets/Window.html" title="class in com.smartgwt.client.widgets"><CODE>Window</CODE></A> - then unsaved records never need to be shown in the grid. 
 Similar to the approach above, this modal form might have only certain minimum fields to make a
 valid new record, then further editing could continue in the grid. <li> use a <A HREF="../../../../com/smartgwt/client/data/DataSource.html#getClientOnly()"><CODE>clientOnly DataSource</CODE></A> so that records can be
 saved immediately without contacting the server.  This is a good approach if several unsaved
 records need to be manipulated by multiple components before they are finally saved. <li> use
 <A HREF="../../../../com/smartgwt/client/data/DataSource.html#updateCaches(com.smartgwt.client.data.DSResponse)"><CODE>DataSource.updateCaches</CODE></A> with an "add"
 DSResponse to cause a new record to be added to the grid due to <A HREF="../../../../com/smartgwt/client/data/ResultSet.html" title="class in com.smartgwt.client.data"><CODE>automatic cache synchronization</CODE></A>.  At this point the grid
 will believe the record exists on the server and it will be treated like any other saved
 record.  This means your server code will need to handle the fact that the ListGrid will submit
 "update" DSRequests for any subsequent edits. </ul> <b>NOTE about validation:</b> by design,
 Smart GWT assumes that any record that has been saved is valid and does not validate field
 values that appear in records loaded from the server.  This includes records added to a
 clientOnly DataSource via <A HREF="../../../../com/smartgwt/client/data/DataSource.html#setCacheData(com.smartgwt.client.data.Record...)"><CODE>DataSource.setCacheData</CODE></A> as well as records added due to a call to <A HREF="../../../../com/smartgwt/client/data/DataSource.html#updateCaches(com.smartgwt.client.data.DSResponse)"><CODE>DataSource.updateCaches</CODE></A>.   <P> Usually the
 best approach is to avoid this situation by editing such records in a form or other control
 until they are valid rather than showing invalid records in a grid.  However, if such records
 need to be considered invalid, one approach is to take field values and add them as editValues
 via <A HREF="../../../../com/smartgwt/client/widgets/grid/ListGrid.html#setEditValues(int, java.util.Map)"><CODE>ListGrid.setEditValues</CODE></A>.  At
 this point the ListGrid will consider the values as user edits and will validate them.
<P>

<P>
<HR>

<P>

<P>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/smartgwt/client/docs/TreeIcons.html" title="interface in com.smartgwt.client.docs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/smartgwt/client/docs/Upload.html" title="interface in com.smartgwt.client.docs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/smartgwt/client/docs/UnsavedRecords.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UnsavedRecords.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;METHOD</FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;METHOD</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
